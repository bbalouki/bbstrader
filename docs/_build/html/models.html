

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Models &mdash; bbstrader 0.2.092 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=97badf68"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Trading Execution" href="trading.html" />
    <link rel="prev" title="MetaTrader5 (MT5) Trading" href="metatrader.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            bbstrader
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">bbstrader</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="btengine.html">Backtesting Egine</a></li>
<li class="toctree-l2"><a class="reference internal" href="compat.html">compat module</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html">configurations</a></li>
<li class="toctree-l2"><a class="reference internal" href="core.html">core package</a></li>
<li class="toctree-l2"><a class="reference internal" href="ibkr.html">ibkr package</a></li>
<li class="toctree-l2"><a class="reference internal" href="metatrader.html">MetaTrader5 (MT5) Trading</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-models.risk">Risk Models</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#models.risk.HMMRiskManager"><code class="docutils literal notranslate"><span class="pre">HMMRiskManager</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#models.risk.RiskModel"><code class="docutils literal notranslate"><span class="pre">RiskModel</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#models.risk.build_hmm_models"><code class="docutils literal notranslate"><span class="pre">build_hmm_models()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-models.factors">Alfa Factors Model</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#models.factors.search_coint_candidate_pairs"><code class="docutils literal notranslate"><span class="pre">search_coint_candidate_pairs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-models.ml">Machine Learning Model</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#models.ml.LightGBModel"><code class="docutils literal notranslate"><span class="pre">LightGBModel</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#models.ml.MultipleTimeSeriesCV"><code class="docutils literal notranslate"><span class="pre">MultipleTimeSeriesCV</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#models.ml.OneStepTimeSeriesSplit"><code class="docutils literal notranslate"><span class="pre">OneStepTimeSeriesSplit</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-models.optimization">Optimization</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#models.optimization.equal_weighted"><code class="docutils literal notranslate"><span class="pre">equal_weighted()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#models.optimization.hierarchical_risk_parity"><code class="docutils literal notranslate"><span class="pre">hierarchical_risk_parity()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#models.optimization.markowitz_weights"><code class="docutils literal notranslate"><span class="pre">markowitz_weights()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#models.optimization.optimized_weights"><code class="docutils literal notranslate"><span class="pre">optimized_weights()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-models.portfolio">Portfolio</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#models.portfolio.EigenPortfolios"><code class="docutils literal notranslate"><span class="pre">EigenPortfolios</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="trading.html">Trading Execution</a></li>
<li class="toctree-l2"><a class="reference internal" href="tseries.html">Time Series</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">bbstrader</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">bbstrader</a></li>
      <li class="breadcrumb-item active">Models</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/models.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-models">
<span id="models"></span><h1>Models<a class="headerlink" href="#module-models" title="Link to this heading"></a></h1>
<p>The <cite>models</cite> module provides a foundational framework for implementing various quantitative finance models.</p>
<p>It is designed to be a versatile base module for different types of models used in financial analysis and trading.</p>
<section id="module-models.risk">
<span id="risk-models"></span><h2>Risk Models<a class="headerlink" href="#module-models.risk" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="models.risk.HMMRiskManager">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">models.risk.</span></span><span class="sig-name descname"><span class="pre">HMMRiskManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">states</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">csv_filepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/risk.html#HMMRiskManager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.risk.HMMRiskManager" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#models.risk.RiskModel" title="models.risk.RiskModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RiskModel</span></code></a></p>
<p>This class represents a risk management model using Hidden Markov Models (HMM)
to identify and manage market risks. It inherits from a generic RiskModel class
and utilizes Gaussian HMM to model the financial market’s hidden states. These states
are used to make decisions on permissible trading actions based on the identified market
trends, thus facilitating a risk-aware trading strategy.</p>
<p>To learn more about about the Hidden Markov model,
See <a class="reference external" href="https://en.wikipedia.org/wiki/Hidden_Markov_model">https://en.wikipedia.org/wiki/Hidden_Markov_model</a></p>
<dl>
<dt>Exemple:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Assuming `data` is a DataFrame containing your market data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">risk_manager</span> <span class="o">=</span> <span class="n">HMMRiskManager</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">states</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">iterations</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">current_regime</span> <span class="o">=</span> <span class="n">risk_manager</span><span class="o">.</span><span class="n">get_current_regime</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Returns&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Current Market Regime: </span><span class="si">{</span><span class="n">current_regime</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="models.risk.HMMRiskManager.get_current_regime">
<span class="sig-name descname"><span class="pre">get_current_regime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">returns_val</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/risk.html#HMMRiskManager.get_current_regime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.risk.HMMRiskManager.get_current_regime" title="Link to this definition"></a></dt>
<dd><p>Determines the current market regime based on the latest returns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>returns_val</strong> – Array of recent return values</p></li>
<li><p><strong>state.</strong> (<em>to predict the current</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The predicted current market state.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.risk.HMMRiskManager.get_states">
<span class="sig-name descname"><span class="pre">get_states</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/risk.html#HMMRiskManager.get_states"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.risk.HMMRiskManager.get_states" title="Link to this definition"></a></dt>
<dd><p>Predicts the hidden states for the market data
and calculates the mean returns and volatility for each state.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>DataFrame containing mean returns
and volatility for each hidden state.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.risk.HMMRiskManager.identify_market_trends">
<span class="sig-name descname"><span class="pre">identify_market_trends</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/risk.html#HMMRiskManager.identify_market_trends"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.risk.HMMRiskManager.identify_market_trends" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>Identifies bullish and bearish market trends</dt><dd><p>based on the mean returns and volatility of each state.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A dictionary with keys ‘bullish’ and ‘bearish’
indicating the identified states.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.risk.HMMRiskManager.obtain_prices_df">
<span class="sig-name descname"><span class="pre">obtain_prices_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_frame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/risk.html#HMMRiskManager.obtain_prices_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.risk.HMMRiskManager.obtain_prices_df" title="Link to this definition"></a></dt>
<dd><p>Processes the market data to calculate returns
and optionally filters data up to a specified end date.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_frame</strong> – DataFrame containing the market data.</p></li>
<li><p><strong>end</strong> – Optional datetime object specifying the end date for the data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>DataFrame with returns calculated</dt><dd><p>and data filtered up to the end date if specified.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.risk.HMMRiskManager.plot_hidden_states">
<span class="sig-name descname"><span class="pre">plot_hidden_states</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hmm_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/risk.html#HMMRiskManager.plot_hidden_states"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.risk.HMMRiskManager.plot_hidden_states" title="Link to this definition"></a></dt>
<dd><p>Plots the adjusted closing prices masked
by the in-sample hidden states as a mechanism
to understand the market regimes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hmm_model</strong> – The trained GaussianHMM model used for predicting states.</p></li>
<li><p><strong>df</strong> – DataFrame containing the market data with calculated returns.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.risk.HMMRiskManager.read_csv_file">
<span class="sig-name descname"><span class="pre">read_csv_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">csv_filepath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/risk.html#HMMRiskManager.read_csv_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.risk.HMMRiskManager.read_csv_file" title="Link to this definition"></a></dt>
<dd><p>Reads market data from a CSV file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>csv_filepath</strong> – Path to the CSV file containing the market data.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame containing the parsed market data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.risk.HMMRiskManager.save_hmm_model">
<span class="sig-name descname"><span class="pre">save_hmm_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hmm_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/risk.html#HMMRiskManager.save_hmm_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.risk.HMMRiskManager.save_hmm_model" title="Link to this definition"></a></dt>
<dd><p>Saves the trained HMM model to a pickle file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hmm_model</strong> – The trained GaussianHMM model to be saved.</p></li>
<li><p><strong>filename</strong> – The filename under which to save the model.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.risk.HMMRiskManager.show_hidden_states">
<span class="sig-name descname"><span class="pre">show_hidden_states</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/risk.html#HMMRiskManager.show_hidden_states"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.risk.HMMRiskManager.show_hidden_states" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>Visualizes the market data</dt><dd><p>and the predicted hidden states from the HMM model.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.risk.HMMRiskManager.which_quantity_allowed">
<span class="sig-name descname"><span class="pre">which_quantity_allowed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/risk.html#HMMRiskManager.which_quantity_allowed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.risk.HMMRiskManager.which_quantity_allowed" title="Link to this definition"></a></dt>
<dd><p>Defines the strategy for asset allocation within
the portfolio to optimize risk-reward ratio.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.risk.HMMRiskManager.which_trade_allowed">
<span class="sig-name descname"><span class="pre">which_trade_allowed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">returns_val</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/risk.html#HMMRiskManager.which_trade_allowed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.risk.HMMRiskManager.which_trade_allowed" title="Link to this definition"></a></dt>
<dd><p>Decides whether a long or short trade
is allowed based on the current market regime.
This method override the which_trade_allowed() from
RiskModel class .</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>returns_val</strong> – Array of recent return values</p></li>
<li><p><strong>trade.</strong> (<em>to assess the permissible</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>A string indicating “LONG” or “SHORT”</dt><dd><p>if a trade is allowed, or None if no trade is permitted.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="models.risk.RiskModel">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">models.risk.</span></span><span class="sig-name descname"><span class="pre">RiskModel</span></span><a class="reference internal" href="_modules/models/risk.html#RiskModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.risk.RiskModel" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The RiskModel class serves as an abstract base for implementing
risk management strategies in financial markets. It is designed
to assist in the decision-making process regarding which trades
are permissible under current market conditions and how to allocate
assets effectively to optimize the risk-reward ratio.</p>
<p>Risk management is a critical component in trading and investment
strategies, aiming to minimize potential losses without significantly
reducing the potential for gains. This class encapsulates the core
principles of risk management by providing a structured approach to
evaluate market conditions and manage asset allocation.</p>
<p>Implementing classes are required to define two key methods:</p>
<ul class="simple">
<li><p><cite>which_trade_allowed</cite>:
Determines the types of trades that are permissible based on the
analysis of current market conditions and the risk profile of the portfolio.
This method should analyze the provided <cite>returns_val</cite> parameter,
which could represent historical returns, volatility measures,
or other financial metrics, to decide on the suitability of executing
certain trades.</p></li>
<li><p><cite>which_quantity_allowed</cite>:
Defines how assets should be allocated across the portfolio to maintain
an optimal balance between risk and return. This involves determining
the quantity of each asset that can be held, considering factors such as
diversification, liquidity, and the asset’s volatility. This method ensures
that the portfolio adheres to predefined risk tolerance levels and
investment objectives.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Implementing these methods requires a deep understanding of risk
management theories, market analysis, and portfolio management principles.
The implementation should be tailored to the specific needs of the
investment strategy and the risk tolerance of the investor or the fund
being managed.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="models.risk.RiskModel.which_quantity_allowed">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">which_quantity_allowed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/risk.html#RiskModel.which_quantity_allowed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.risk.RiskModel.which_quantity_allowed" title="Link to this definition"></a></dt>
<dd><p>Defines the strategy for asset allocation within
the portfolio to optimize risk-reward ratio.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.risk.RiskModel.which_trade_allowed">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">which_trade_allowed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">returns_val</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/risk.html#RiskModel.which_trade_allowed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.risk.RiskModel.which_trade_allowed" title="Link to this definition"></a></dt>
<dd><p>Determines the types of trades permissible under current market conditions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>returns_val</strong> – A parameter representing financial metrics</p></li>
<li><p><strong>volatility</strong> (<em>such as historical returns or</em>)</p></li>
<li><p><strong>to</strong> (<em>used</em>)</p></li>
<li><p><strong>conditions.</strong> (<em>assess market</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="models.risk.build_hmm_models">
<span class="sig-prename descclassname"><span class="pre">models.risk.</span></span><span class="sig-name descname"><span class="pre">build_hmm_models</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#models.risk.HMMRiskManager" title="models.risk.HMMRiskManager"><span class="pre">HMMRiskManager</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/models/risk.html#build_hmm_models"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.risk.build_hmm_models" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-models.factors">
<span id="alfa-factors-model"></span><h2>Alfa Factors Model<a class="headerlink" href="#module-models.factors" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="models.factors.search_coint_candidate_pairs">
<span class="sig-prename descclassname"><span class="pre">models.factors.</span></span><span class="sig-name descname"><span class="pre">search_coint_candidate_pairs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">securities</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">candidates</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_search</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">select</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">universe</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rolling_window</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">npairs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'D1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">DataFrame</span></span></span><a class="reference internal" href="_modules/models/factors.html#search_coint_candidate_pairs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.factors.search_coint_candidate_pairs" title="Link to this definition"></a></dt>
<dd><p>Searches for candidate pairs of securities based on cointegration analysis.</p>
<p>This function either processes preloaded securities and candidates data
(as pandas DataFrames) or downloads historical data from a specified
source (e.g., Yahoo Finance, MetaTrader 5, Financial Modeling Prep, or EODHD).
It then selects the top <cite>npairs</cite> based on cointegration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>securities</strong> (<em>pd.DataFrame</em><em> | </em><em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – A DataFrame or list of tickers representing the securities for analysis.
If using a DataFrame, it should include a MultiIndex with levels
[‘ticker’, ‘date’].</p></li>
<li><p><strong>candidates</strong> (<em>pd.DataFrame</em><em> | </em><em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – A DataFrame or list of tickers representing the candidate securities
for pair selection.</p></li>
<li><p><strong>start</strong> (<em>str</em><em>, </em><em>optional</em>) – The start date for data retrieval in ‘YYYY-MM-DD’ format. Ignored
if both <cite>securities</cite> and <cite>candidates</cite> are DataFrames.</p></li>
<li><p><strong>end</strong> (<em>str</em><em>, </em><em>optional</em>) – The end date for data retrieval in ‘YYYY-MM-DD’ format. Ignored
if both <cite>securities</cite> and <cite>candidates</cite> are DataFrames.</p></li>
<li><p><strong>period_search</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, the function will perform a periodic search for cointegrated from 3 years
to the end date by taking 2 yerars rolling window. So you need to have at least 3 years of data
or set the <cite>window</cite> parameter to 3. Defaults to False.</p></li>
<li><p><strong>select</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, the function will select the top cointegrated pairs based on the
cointegration test results in form of List[dict].
If False, the function will return all cointegrated pairs in form of DataFrame.
This can be useful for further analysis or visualization.</p></li>
<li><p><strong>source</strong> (<em>str</em><em>, </em><em>optional</em>) – The data source for historical data retrieval. Must be one of
[‘yf’, ‘mt5’, ‘fmp’, ‘eodhd’]. Required if <cite>securities</cite> and
<cite>candidates</cite> are lists of tickers.</p></li>
<li><p><strong>universe</strong> (<em>int</em><em>, </em><em>optional</em>) – The maximum number of assets to retain for analysis. Defaults to 100.</p></li>
<li><p><strong>window</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of years of historical data to retrieve if <cite>start</cite> and <cite>end</cite>
are not specified. Defaults to 2 years.</p></li>
<li><p><strong>rolling_window</strong> (<em>int</em><em>, </em><em>optional</em>) – The size of the rolling window (in days) used for asset selection.
Defaults to None.</p></li>
<li><p><strong>npairs</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of top cointegrated pairs to select. Defaults to 10.</p></li>
<li><p><strong>tf</strong> (<em>str</em><em>, </em><em>optional</em>) – The timeframe for MetaTrader 5 data retrieval. Defaults to ‘D1’.</p></li>
<li><p><strong>path</strong> (<em>str</em><em>, </em><em>optional</em>) – The path to MetaTrader 5 historical data files. Required if <cite>source=’mt5’</cite>.</p></li>
<li><p><strong>**kwargs</strong> – Additional parameters for data retrieval (e.g., API keys, date ranges
for specific sources), see <code class="docutils literal notranslate"><span class="pre">bbstrader.btengine.data.FMPDataHandler</span></code> or
<code class="docutils literal notranslate"><span class="pre">bbstrader.btengine.data.EODHDataHandler</span></code> for more details.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list containing the selected top cointegrated pairs if <cite>select=True</cite>.
pd.DataFrame: A DataFrame containing all cointegrated pairs if <cite>select=False</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[dict]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If the inputs are invalid or if the <cite>source</cite> is not one of</p></li>
<li><p><strong>the supported sources.</strong> – </p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<dl>
<dt>Using preloaded DataFrames:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">securities</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;securities.csv&#39;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ticker&#39;</span><span class="p">,</span> <span class="s1">&#39;date&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">candidates</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;candidates.csv&#39;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ticker&#39;</span><span class="p">,</span> <span class="s1">&#39;date&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pairs</span> <span class="o">=</span> <span class="n">search_candidate_pairs</span><span class="p">(</span><span class="n">securities</span><span class="o">=</span><span class="n">securities</span><span class="p">,</span> <span class="n">candidates</span><span class="o">=</span><span class="n">candidates</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>Using a data source (Yahoo Finance):</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">securities</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;SPY&#39;</span><span class="p">,</span> <span class="s1">&#39;IWM&#39;</span><span class="p">,</span> <span class="s1">&#39;XLF&#39;</span><span class="p">,</span> <span class="s1">&#39;HYG&#39;</span><span class="p">,</span> <span class="s1">&#39;XLE&#39;</span><span class="p">,</span> <span class="s1">&#39;LQD&#39;</span><span class="p">,</span> <span class="s1">&#39;GDX&#39;</span><span class="p">,</span> <span class="s1">&#39;FXI&#39;</span><span class="p">,</span> <span class="s1">&#39;EWZ&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">candidates</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;AAPL&#39;</span><span class="p">,</span> <span class="s1">&#39;AMZN&#39;</span><span class="p">,</span> <span class="s1">&#39;NVDA&#39;</span><span class="p">,</span> <span class="s1">&#39;MSFT&#39;</span><span class="p">,</span> <span class="s1">&#39;GOOGL&#39;</span><span class="p">,</span> <span class="s1">&#39;AMD&#39;</span><span class="p">,</span> <span class="s1">&#39;BAC&#39;</span><span class="p">,</span> <span class="s1">&#39;NFLX&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pairs</span> <span class="o">=</span> <span class="n">search_candidate_pairs</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">securities</span><span class="o">=</span><span class="n">securities</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">candidates</span><span class="o">=</span><span class="n">candidates</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">start</span><span class="o">=</span><span class="s1">&#39;2022-12-12&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">end</span><span class="o">=</span><span class="s1">&#39;2024-12-10&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">source</span><span class="o">=</span><span class="s1">&#39;yf&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">npairs</span><span class="o">=</span><span class="mi">10</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="p">[</span>
<span class="gp">... </span>   <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="s1">&#39;LQD&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="s1">&#39;TMO&#39;</span><span class="p">},</span>
<span class="gp">... </span>   <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="s1">&#39;IEF&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="s1">&#39;COP&#39;</span><span class="p">},</span>
<span class="gp">... </span>   <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="s1">&#39;WMT&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="s1">&#39;IWM&#39;</span><span class="p">},</span>
<span class="gp">... </span>   <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="s1">&#39;MDT&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="s1">&#39;OIH&#39;</span><span class="p">},</span>
<span class="gp">... </span>   <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="s1">&#39;EWZ&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="s1">&#39;CMCSA&#39;</span><span class="p">},</span>
<span class="gp">... </span>   <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="s1">&#39;VLO&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="s1">&#39;XOP&#39;</span><span class="p">},</span>
<span class="gp">... </span>   <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="s1">&#39;SHY&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="s1">&#39;F&#39;</span><span class="p">},</span>
<span class="gp">... </span>   <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="s1">&#39;ABT&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="s1">&#39;LQD&#39;</span><span class="p">},</span>
<span class="gp">... </span>   <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="s1">&#39;PFE&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="s1">&#39;USO&#39;</span><span class="p">},</span>
<span class="gp">... </span>   <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="s1">&#39;LQD&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="s1">&#39;MDT&#39;</span><span class="p">}</span>
<span class="gp">... </span>   <span class="p">]</span>
</pre></div>
</div>
</dd>
<dt>Using MetaTrader 5:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">securities</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;EURUSD&#39;</span><span class="p">,</span> <span class="s1">&#39;GBPUSD&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">candidates</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;USDJPY&#39;</span><span class="p">,</span> <span class="s1">&#39;AUDUSD&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pairs</span> <span class="o">=</span> <span class="n">search_candidate_pairs</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">securities</span><span class="o">=</span><span class="n">securities</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">candidates</span><span class="o">=</span><span class="n">candidates</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">source</span><span class="o">=</span><span class="s1">&#39;mt5&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">tf</span><span class="o">=</span><span class="s1">&#39;H1&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">path</span><span class="o">=</span><span class="s1">&#39;/path/to/terminal64.exe&#39;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>If <cite>securities</cite> and <cite>candidates</cite> are DataFrames, the function assumes
the data is already preprocessed and indexed by [‘ticker’, ‘date’].</p></li>
<li><p>When using <cite>source=’fmp’</cite> or <cite>source=’eodhd’</cite>, API keys and other
required parameters should be passed via <cite>kwargs</cite>.</p></li>
</ul>
</dd></dl>

</section>
<section id="module-models.ml">
<span id="machine-learning-model"></span><h2>Machine Learning Model<a class="headerlink" href="#module-models.ml" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="models.ml.LightGBModel">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">models.ml.</span></span><span class="sig-name descname"><span class="pre">LightGBModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datastore</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">HDFStore</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'lgbdata.h5'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trainstore</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">HDFStore</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'lgbtrain.h5'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outstore</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">HDFStore</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'lgbout.h5'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/ml.html#LightGBModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.ml.LightGBModel" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">LightGBModel</span></code> encapsulates a complete workflow for training and evaluating
a <code class="docutils literal notranslate"><span class="pre">LightGBM</span> <span class="pre">(Light</span> <span class="pre">Gradient</span> <span class="pre">Boosting</span> <span class="pre">Machine)</span></code> model for predicting stock returns.
It includes data acquisition, feature engineering, model tuning, and performance
evaluation using information <code class="docutils literal notranslate"><span class="pre">coefficient</span> <span class="pre">(IC)</span></code> and Alphalens analysis.</p>
<section id="key-features">
<h3>Key Features<a class="headerlink" href="#key-features" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">HDF5</span> <span class="pre">Storage</span></code>: Utilizes <code class="docutils literal notranslate"><span class="pre">pandas.HDFStore</span></code> for efficient storage and retrieval
of large datasets, which is essential for backtesting on financial time series data.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Time-Series</span> <span class="pre">Cross-Validation</span></code>: Employs a custom cross-validation strategy that
respects the time series nature of the data, avoiding data leakage.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Hyperparameter</span> <span class="pre">Tuning</span></code>: Includes automated hyperparameter tuning using a randomized
grid search for optimization.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Information</span> <span class="pre">Coefficient</span> <span class="pre">(IC)</span></code>: Uses IC as a core performance metric that quantifies
the predictive power of the model, which is a standard measure for ranking models in finance.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Alphalens</span> <span class="pre">Integration</span></code>: Provides a comprehensive framework for validating model
performance using Alphalens, allowing for in-depth performance analysis, like backtesting
and return decomposition.</p></li>
</ul>
</section>
<section id="use-case">
<h3>Use Case<a class="headerlink" href="#use-case" title="Link to this heading"></a></h3>
<p>This class is designed for quantitative finance and algorithmic trading use cases where
the goal is to build a predictive model for stock returns based on historical data and
technical indicators. It follows a complete cycle from data acquisition to model validation
and provides the infrastructure needed for deployment of this model in a trading strategy.</p>
<p class="rubric">Notes</p>
<p>The implementation is inspired by the book “Machine Learning for Algorithmic Trading”
by Stefan Jansen.</p>
<p class="rubric">References</p>
<p>Stefan Jansen (2020). Machine Learning for Algorithmic Trading - Second Edition.
Chapter 12, Boosting Your Trading Strategy.</p>
<dl class="py method">
<dt class="sig sig-object py" id="models.ml.LightGBModel.apply_alphalen_analysis">
<span class="sig-name descname"><span class="pre">apply_alphalen_analysis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">factor_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tearsheet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/ml.html#LightGBModel.apply_alphalen_analysis"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.ml.LightGBModel.apply_alphalen_analysis" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.ml.LightGBModel.assert_last_date">
<span class="sig-name descname"><span class="pre">assert_last_date</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">predictions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/ml.html#LightGBModel.assert_last_date"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.ml.LightGBModel.assert_last_date" title="Link to this definition"></a></dt>
<dd><p>Usefull in Live Trading to ensure that the last date in the predictions
is the previous day, so it predicts today’s returns.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.ml.LightGBModel.clean_stores">
<span class="sig-name descname"><span class="pre">clean_stores</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">stores</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/ml.html#LightGBModel.clean_stores"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.ml.LightGBModel.clean_stores" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.ml.LightGBModel.download_boosting_data">
<span class="sig-name descname"><span class="pre">download_boosting_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tickers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/ml.html#LightGBModel.download_boosting_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.ml.LightGBModel.download_boosting_data" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.ml.LightGBModel.download_metadata">
<span class="sig-name descname"><span class="pre">download_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tickers</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/ml.html#LightGBModel.download_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.ml.LightGBModel.download_metadata" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.ml.LightGBModel.evaluate">
<span class="sig-name descname"><span class="pre">evaluate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">remove_instore</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lookahead</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/ml.html#LightGBModel.evaluate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.ml.LightGBModel.evaluate" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.ml.LightGBModel.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/ml.html#LightGBModel.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.ml.LightGBModel.fit" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.ml.LightGBModel.format_time">
<span class="sig-name descname"><span class="pre">format_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/ml.html#LightGBModel.format_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.ml.LightGBModel.format_time" title="Link to this definition"></a></dt>
<dd><p>Return a formatted time string ‘HH:MM:SS
based on a numeric time() value</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.ml.LightGBModel.get_best_predictions">
<span class="sig-name descname"><span class="pre">get_best_predictions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lgb_daily_ic</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scope_params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lgb_train_params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lookahead</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">topn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/ml.html#LightGBModel.get_best_predictions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.ml.LightGBModel.get_best_predictions" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.ml.LightGBModel.get_trade_prices">
<span class="sig-name descname"><span class="pre">get_trade_prices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tickers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/ml.html#LightGBModel.get_trade_prices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.ml.LightGBModel.get_trade_prices" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.ml.LightGBModel.load_model_data">
<span class="sig-name descname"><span class="pre">load_model_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'model_data'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/ml.html#LightGBModel.load_model_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.ml.LightGBModel.load_model_data" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.ml.LightGBModel.load_predictions">
<span class="sig-name descname"><span class="pre">load_predictions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">predictions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lookahead</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/ml.html#LightGBModel.load_predictions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.ml.LightGBModel.load_predictions" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.ml.LightGBModel.make_predictions">
<span class="sig-name descname"><span class="pre">make_predictions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'test'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lookahead</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/ml.html#LightGBModel.make_predictions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.ml.LightGBModel.make_predictions" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.ml.LightGBModel.plot_ic">
<span class="sig-name descname"><span class="pre">plot_ic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lgb_ic</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lgb_daily_ic</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scope_params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lgb_train_params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/ml.html#LightGBModel.plot_ic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.ml.LightGBModel.plot_ic" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.ml.LightGBModel.plot_metrics">
<span class="sig-name descname"><span class="pre">plot_metrics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lgb_metrics</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lgb_daily_ic</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/ml.html#LightGBModel.plot_metrics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.ml.LightGBModel.plot_metrics" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.ml.LightGBModel.prepare_boosting_data">
<span class="sig-name descname"><span class="pre">prepare_boosting_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_years</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">universe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/ml.html#LightGBModel.prepare_boosting_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.ml.LightGBModel.prepare_boosting_data" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.ml.LightGBModel.tickers">
<span class="sig-name descname"><span class="pre">tickers</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/ml.html#LightGBModel.tickers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.ml.LightGBModel.tickers" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="models.ml.MultipleTimeSeriesCV">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">models.ml.</span></span><span class="sig-name descname"><span class="pre">MultipleTimeSeriesCV</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n_splits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_period_length</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">126</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_period_length</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">21</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lookahead</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'date'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/ml.html#MultipleTimeSeriesCV"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.ml.MultipleTimeSeriesCV" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="models.ml.MultipleTimeSeriesCV.get_n_splits">
<span class="sig-name descname"><span class="pre">get_n_splits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">groups</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/ml.html#MultipleTimeSeriesCV.get_n_splits"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.ml.MultipleTimeSeriesCV.get_n_splits" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.ml.MultipleTimeSeriesCV.split">
<span class="sig-name descname"><span class="pre">split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">groups</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/ml.html#MultipleTimeSeriesCV.split"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.ml.MultipleTimeSeriesCV.split" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="models.ml.OneStepTimeSeriesSplit">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">models.ml.</span></span><span class="sig-name descname"><span class="pre">OneStepTimeSeriesSplit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n_splits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_period_length</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/ml.html#OneStepTimeSeriesSplit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.ml.OneStepTimeSeriesSplit" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="models.ml.OneStepTimeSeriesSplit.chunks">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">chunks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">l</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/ml.html#OneStepTimeSeriesSplit.chunks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.ml.OneStepTimeSeriesSplit.chunks" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.ml.OneStepTimeSeriesSplit.get_n_splits">
<span class="sig-name descname"><span class="pre">get_n_splits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">groups</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/ml.html#OneStepTimeSeriesSplit.get_n_splits"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.ml.OneStepTimeSeriesSplit.get_n_splits" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.ml.OneStepTimeSeriesSplit.split">
<span class="sig-name descname"><span class="pre">split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">groups</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/ml.html#OneStepTimeSeriesSplit.split"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.ml.OneStepTimeSeriesSplit.split" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-models.optimization">
<span id="optimization"></span><h2>Optimization<a class="headerlink" href="#module-models.optimization" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="models.optimization.equal_weighted">
<span class="sig-prename descclassname"><span class="pre">models.optimization.</span></span><span class="sig-name descname"><span class="pre">equal_weighted</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">returns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">round_digits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/optimization.html#equal_weighted"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.optimization.equal_weighted" title="Link to this definition"></a></dt>
<dd><p>Generates an equal-weighted portfolio by assigning an equal proportion to each asset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prices</strong> (<em>pd.DataFrame</em><em>, </em><em>optional</em>) – Price data for assets, where each column represents an asset.</p></li>
<li><p><strong>returns</strong> (<em>pd.DataFrame</em><em>, </em><em>optional</em>) – Return data for assets. One of <cite>prices</cite> or <cite>returns</cite> must be provided.</p></li>
<li><p><strong>round_digits</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of decimal places to round each weight to (default is 5).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary with equal weights assigned to each asset, summing to 1.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If neither <cite>prices</cite> nor <cite>returns</cite> are provided.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Equal weighting is a simple allocation method that assumes equal importance across all assets,
useful as a baseline model and when no strong views exist on asset return expectations or risk.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="models.optimization.hierarchical_risk_parity">
<span class="sig-prename descclassname"><span class="pre">models.optimization.</span></span><span class="sig-name descname"><span class="pre">hierarchical_risk_parity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">returns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">252</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/optimization.html#hierarchical_risk_parity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.optimization.hierarchical_risk_parity" title="Link to this definition"></a></dt>
<dd><p>Computes asset weights using Hierarchical Risk Parity (HRP) for risk-averse portfolio allocation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prices</strong> (<em>pd.DataFrame</em><em>, </em><em>optional</em>) – Price data for assets; if provided, daily returns will be calculated.</p></li>
<li><p><strong>returns</strong> (<em>pd.DataFrame</em><em>, </em><em>optional</em>) – Daily returns for assets. One of <cite>prices</cite> or <cite>returns</cite> must be provided.</p></li>
<li><p><strong>freq</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of days to consider in calculating portfolio weights (default is 252).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Optimized asset weights using the HRP method, with asset weights summing to 1.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If neither <cite>prices</cite> nor <cite>returns</cite> are provided.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Hierarchical Risk Parity is particularly useful for portfolios with a large number of assets,
as it mitigates issues of multicollinearity and estimation errors in covariance matrices by
using hierarchical clustering.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="models.optimization.markowitz_weights">
<span class="sig-prename descclassname"><span class="pre">models.optimization.</span></span><span class="sig-name descname"><span class="pre">markowitz_weights</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rfr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">252</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/optimization.html#markowitz_weights"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.optimization.markowitz_weights" title="Link to this definition"></a></dt>
<dd><p>Calculates optimal portfolio weights using Markowitz’s mean-variance optimization (Max Sharpe Ratio) with multiple solvers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prices</strong> (<em>pd.DataFrame</em><em>, </em><em>optional</em>) – Price data for assets, where rows represent time periods and columns represent assets.</p></li>
<li><p><strong>freq</strong> (<em>int</em><em>, </em><em>optional</em>) – Frequency of the data, such as 252 for daily returns in a year (default is 252).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary containing the optimal asset weights for maximizing the Sharpe ratio, normalized to sum to 1.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This function attempts to maximize the Sharpe ratio by iterating through various solvers (‘SCS’, ‘ECOS’, ‘OSQP’)
from the PyPortfolioOpt library. If a solver fails, it proceeds to the next one. If none succeed, an error message
is printed for each solver that fails.</p>
<p>This function is useful for portfolio with a small number of assets, as it may not scale well for large portfolios.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>Exception</strong> – If all solvers fail, each will print an exception error message during runtime.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="models.optimization.optimized_weights">
<span class="sig-prename descclassname"><span class="pre">models.optimization.</span></span><span class="sig-name descname"><span class="pre">optimized_weights</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">returns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rfr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">252</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'equal'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/optimization.html#optimized_weights"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.optimization.optimized_weights" title="Link to this definition"></a></dt>
<dd><p>Selects an optimization method to calculate portfolio weights based on user preference.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prices</strong> (<em>pd.DataFrame</em><em>, </em><em>optional</em>) – Price data for assets, required for certain methods.</p></li>
<li><p><strong>returns</strong> (<em>pd.DataFrame</em><em>, </em><em>optional</em>) – Returns data for assets, an alternative input for certain methods.</p></li>
<li><p><strong>freq</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of days for calculating portfolio weights, such as 252 for a year’s worth of daily returns (default is 252).</p></li>
<li><p><strong>method</strong> (<em>str</em><em>, </em><em>optional</em>) – Optimization method to use (‘markowitz’, ‘hrp’, or ‘equal’) (default is ‘markowitz’).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary containing optimized asset weights based on the chosen method.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If an unknown optimization method is specified.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This function integrates different optimization methods:
- ‘markowitz’: mean-variance optimization with max Sharpe ratio
- ‘hrp’: Hierarchical Risk Parity, for risk-based clustering of assets
- ‘equal’: Equal weighting across all assets</p>
</dd></dl>

</section>
<section id="module-models.portfolio">
<span id="portfolio"></span><h2>Portfolio<a class="headerlink" href="#module-models.portfolio" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="models.portfolio.EigenPortfolios">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">models.portfolio.</span></span><span class="sig-name descname"><span class="pre">EigenPortfolios</span></span><a class="reference internal" href="_modules/models/portfolio.html#EigenPortfolios"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.portfolio.EigenPortfolios" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The <cite>EigenPortfolios</cite> class applies Principal Component Analysis (PCA) to a covariance matrix of normalized asset returns
to derive portfolios (eigenportfolios) that capture distinct risk factors in the asset returns. Each eigenportfolio
represents a principal component of the return covariance matrix, ordered by the magnitude of its eigenvalue. These
portfolios capture most of the variance in asset returns and are mutually uncorrelated.</p>
<p class="rubric">Notes</p>
<p>The implementation is inspired by the book “Machine Learning for Algorithmic Trading” by Stefan Jansen.</p>
<p class="rubric">References</p>
<p>Stefan Jansen (2020). Machine Learning for Algorithmic Trading - Second Edition.
chapter 13, Data-Driven Risk Factors and Asset Allocation with Unsupervised Learning.</p>
<dl class="py method">
<dt class="sig sig-object py" id="models.portfolio.EigenPortfolios.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">returns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_portfolios</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="_modules/models/portfolio.html#EigenPortfolios.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.portfolio.EigenPortfolios.fit" title="Link to this definition"></a></dt>
<dd><p>Computes the eigenportfolios based on PCA of the asset returns’ covariance matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>returns</strong> (<em>pd.DataFrame</em>) – Historical returns of assets to be used for PCA.</p></li>
<li><p><strong>n_portfolios</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of eigenportfolios to compute (default is 4).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame containing normalized weights for each eigenportfolio.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method performs winsorization and normalization on returns to reduce the impact of outliers
and achieve zero mean and unit variance. It uses the first <cite>n_portfolios</cite> principal components
as portfolio weights.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.portfolio.EigenPortfolios.get_portfolios">
<span class="sig-name descname"><span class="pre">get_portfolios</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="_modules/models/portfolio.html#EigenPortfolios.get_portfolios"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.portfolio.EigenPortfolios.get_portfolios" title="Link to this definition"></a></dt>
<dd><p>Returns the computed eigenportfolios (weights of assets in each portfolio).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>DataFrame containing eigenportfolio weights for each asset.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If <cite>fit()</cite> has not been called before retrieving portfolios.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.portfolio.EigenPortfolios.optimize">
<span class="sig-name descname"><span class="pre">optimize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">portfolio</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimizer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'hrp'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">252</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/portfolio.html#EigenPortfolios.optimize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.portfolio.EigenPortfolios.optimize" title="Link to this definition"></a></dt>
<dd><p>Optimizes the chosen eigenportfolio based on a specified optimization method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>portfolio</strong> (<em>int</em><em>, </em><em>optional</em>) – Index of the eigenportfolio to optimize (default is 1).</p></li>
<li><p><strong>optimizer</strong> (<em>str</em><em>, </em><em>optional</em>) – Optimization method: ‘markowitz’, ‘hrp’ (Hierarchical Risk Parity), or ‘equal’ (default is ‘hrp’).</p></li>
<li><p><strong>prices</strong> (<em>pd.DataFrame</em><em>, </em><em>optional</em>) – Asset prices used for Markowitz optimization (required if optimizer is ‘markowitz’).</p></li>
<li><p><strong>freq</strong> (<em>int</em><em>, </em><em>optional</em>) – Frequency of returns (e.g., 252 for daily returns).</p></li>
<li><p><strong>plot</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to plot the performance of the optimized portfolio (default is True).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary of optimized asset weights.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If an unknown optimizer is specified, or if prices are not provided when using Markowitz optimization.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The optimization method varies based on risk-return assumptions, with options for traditional Markowitz optimization,
Hierarchical Risk Parity, or equal weighting.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.portfolio.EigenPortfolios.plot_performance">
<span class="sig-name descname"><span class="pre">plot_performance</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/portfolio.html#EigenPortfolios.plot_performance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.portfolio.EigenPortfolios.plot_performance" title="Link to this definition"></a></dt>
<dd><p>Plots the cumulative returns of each eigenportfolio over time.</p>
<p class="rubric">Notes</p>
<p>This method calculates the historical cumulative performance of each eigenportfolio
by weighting asset returns according to eigenportfolio weights.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="models.portfolio.EigenPortfolios.plot_weights">
<span class="sig-name descname"><span class="pre">plot_weights</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/portfolio.html#EigenPortfolios.plot_weights"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#models.portfolio.EigenPortfolios.plot_weights" title="Link to this definition"></a></dt>
<dd><p>Plots the weights of each asset in each eigenportfolio as bar charts.</p>
<p class="rubric">Notes</p>
<p>Each subplot represents one eigenportfolio, showing the contribution of each asset.</p>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="metatrader.html" class="btn btn-neutral float-left" title="MetaTrader5 (MT5) Trading" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="trading.html" class="btn btn-neutral float-right" title="Trading Execution" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023 - 2025, Bertin Balouki SIMYELI.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>